<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google Analytics -->
    <!-- Google Analytics -->
    <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-XT9R8KQFRF"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }

        // Initialize consent mode - keep this granted
        gtag('consent', 'default', {
            'analytics_storage': 'granted',
            'ad_storage': 'granted'
        });

        gtag('js', new Date());
        gtag('config', 'G-XT9R8KQFRF', {
            debug_mode: true,
            send_page_view: true,
            cookie_flags: 'samesite=none;secure',
            cookie_domain: 'exploreavia.com',
            'transport_url': 'https://www.google-analytics.com/j/collect',
            'transport_method': 'beacon'
        });

        // Add this right after your GA initialization
        gtag('set', 'send_to', 'G-XT9R8KQFRF');
        gtag('event', 'ga_debug', {
            'debug_mode': true,
            'transport_method': 'beacon',
            callback: function () {
                console.log('GA Debug Event sent successfully');
            },
            'event_callback': function () {
                console.log('GA Event callback received');
            }
        });
        // Debug pageview for verification
        gtag('event', 'debug_pageview', {
            'debug_mode': true,
            'page_location': window.location.href,
            'page_title': document.title,
            'send_to': 'G-XT9R8KQFRF'
        });
    </script> -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XT9R8KQFRF"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }

        // Initialize consent mode - keep this granted
        gtag('consent', 'default', {
            'analytics_storage': 'granted',
            'ad_storage': 'granted'
        });

        gtag('js', new Date());
        gtag('config', 'G-XT9R8KQFRF', {
            debug_mode: true,
            send_page_view: true
        });

        // Simple debug event
        gtag('event', 'debug_pageview', {
            'debug_mode': true,
            'send_to': 'G-XT9R8KQFRF'
        });
    </script>
    <!-- Microsoft Clarity -->
    <script type="text/javascript">
        (function (c, l, a, r, i, t, y) {
            c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) };
            t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i;
            y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y);
        })(window, document, "clarity", "script", "okhbodwey7");
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#1e40af">
    <title>AVIA - Audio Video Image Analyzer Waitlist</title>

    <!-- SEO Meta Tags -->
    <meta name="description"
        content="AVIA offers powerful tools for uploading, organizing, and analyzing your audio, video, and image content effortlessly. Join our waitlist for early access!">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="AVIA - Audio Video Image Analyzer">
    <meta property="og:description" content="Powerful tools for uploading, organizing, and analyzing your media files.">
    <meta property="og:url" content="https://www.exploreavia.com">
    <meta property="og:type" content="website">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="AVIA - Audio Video Image Analyzer">
    <meta name="twitter:description"
        content="Powerful tools for uploading, organizing, and analyzing your media files.">

    <!-- Preload Critical Resources -->
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'slide-up': 'slideUp 0.5s ease-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .gradient-bg {
            background: linear-gradient(-45deg, #0ea5e9, #0369a1, #075985, #0c4a6e);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }

        .feature-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }

        .input-focus {
            transition: all 0.3s ease;
        }

        .input-focus:focus {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }

        .scroll-smooth {
            scroll-behavior: smooth;
        }

        /* Loading animation for form submission */
        .loading::after {
            content: '';
            display: block;
            width: 20px;
            height: 20px;
            border: 2px solid #fff;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-800 scroll-smooth">
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:p-4 focus:bg-white focus:z-50">
        Skip to main content
    </a>

    <!-- Header -->
    <header class="fixed w-full top-0 z-50 bg-white/90 backdrop-blur-md shadow-sm">
        <div class="container mx-auto px-4 py-4">
            <nav class="flex justify-between items-center">
                <a href="#" class="text-2xl font-bold text-primary-600 hover:text-primary-700 transition">AVIA</a>
                <div class="space-x-6">
                    <a href="#features" class="text-gray-600 hover:text-primary-600 transition">Features</a>
                    <a href="#waitlist"
                        class="bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition">Join
                        Waitlist</a>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content" class="pt-20">
        <!-- Hero Section -->
        <section class="gradient-bg text-white py-24 lg:py-32">
            <div class="container mx-auto px-4">
                <div class="max-w-4xl mx-auto text-center">
                    <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6 animate-fade-in">
                        Transform Your Media into Actionable Insights
                    </h1>
                    <p class="text-xl md:text-2xl mb-8 text-gray-100 animate-slide-up">
                        Advanced tools for uploading, organizing, and analyzing your audio, video, and image content.
                    </p>
                    <a href="#waitlist"
                        class="inline-block bg-white text-primary-600 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-100 transition transform hover:-translate-y-1 hover:shadow-lg">
                        Get Early Access
                    </a>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="py-20 bg-white">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">Powerful Features</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Feature Cards -->
                    <div class="feature-card bg-white rounded-xl shadow-md overflow-hidden">
                        <div class="p-6">
                            <div class="w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-primary-600" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold mb-2">Media Organization</h3>
                            <p class="text-gray-600">Effortlessly organize and manage your media files with AI-powered
                                tools.</p>
                        </div>
                    </div>

                    <div class="feature-card bg-white rounded-xl shadow-md overflow-hidden">
                        <div class="p-6">
                            <div class="w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-primary-600" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold mb-2">Advanced Analytics</h3>
                            <p class="text-gray-600">Gain valuable insights from your media content with comprehensive
                                analysis tools.</p>
                        </div>
                    </div>

                    <div class="feature-card bg-white rounded-xl shadow-md overflow-hidden">
                        <div class="p-6">
                            <div class="w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4">
                                <svg class="w-6 h-6 text-primary-600" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold mb-2">Custom Workflow</h3>
                            <p class="text-gray-600">Tailor the platform to your needs with customizable settings and
                                automation.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Waitlist Section -->
        <section id="waitlist" class="py-20 bg-gray-50">
            <div class="container mx-auto px-4">
                <div class="max-w-lg mx-auto">
                    <div class="bg-white rounded-2xl shadow-xl p-8">
                        <h2 class="text-3xl font-bold text-center mb-2">Join Our Waitlist</h2>
                        <p class="text-gray-600 text-center mb-8">Be among the first to experience AVIA</p>

                        <!-- Form Variants -->
                        <div class="form form-a hidden">
                            <form id="waitlist-form-a" class="space-y-4"
                                action="https://script.google.com/macros/s/AKfycbx2ofEnCzhKSLJVQiN59P2uPAmTAPNuIp4ADmxxeKTvUW1wLlyR-nopRI5lsmNoyFSA/exec"
                                method="POST">
                                <!-- Add this in your form section -->
                                <noscript>
                                    <div class="text-center p-4 bg-yellow-100 text-yellow-800 rounded-lg">
                                        Please enable JavaScript to join our waitlist, or contact us directly at
                                        founder@psrstech.com
                                    </div>
                                </noscript>
                                <div>
                                    <label for="name-a"
                                        class="block text-sm font-medium text-gray-700 mb-1">Name</label>
                                    <input type="text" id="name-a" name="name" required
                                        class="input-focus w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                                </div>

                                <div>
                                    <label for="email-a"
                                        class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                    <input type="email" id="email-a" name="email" required
                                        class="input-focus w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                                </div>

                                <input type="hidden" id="variant-a" name="variant" value="A">

                                <button type="submit"
                                    class="w-full bg-primary-600 text-white px-6 py-3 rounded-lg text-lg font-semibold hover:bg-primary-700 transition transform hover:-translate-y-1 flex justify-center items-center">
                                    <span>Join Waitlist</span>
                                </button>
                            </form>
                        </div>

                        <!-- Variant B: Detailed Form -->
                        <div class="form form-b hidden">
                            <form id="waitlist-form-b" class="space-y-4"
                                action="https://script.google.com/macros/s/AKfycbx2ofEnCzhKSLJVQiN59P2uPAmTAPNuIp4ADmxxeKTvUW1wLlyR-nopRI5lsmNoyFSA/exec"
                                method="POST">
                                <div class="grid grid-cols-1 gap-4">
                                    <div>
                                        <label for="name-b"
                                            class="block text-sm font-medium text-gray-700 mb-1">Name</label>
                                        <input type="text" id="name-b" name="name" required
                                            class="input-focus w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                                    </div>

                                    <div>
                                        <label for="email-b"
                                            class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                        <input type="email" id="email-b" name="email" required
                                            class="input-focus w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                                    </div>

                                    <div>
                                        <label for="industry"
                                            class="block text-sm font-medium text-gray-700 mb-1">Industry</label>
                                        <select id="industry" name="industry" required
                                            class="input-focus w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                                            <option value="" disabled selected>Select Your Industry</option>
                                            <option value="education">Education</option>
                                            <option value="project_management">Project Management</option>
                                            <option value="product_management">Product Management</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>

                                    <div id="other-industry-container" class="hidden">
                                        <label for="industry-other"
                                            class="block text-sm font-medium text-gray-700 mb-1">Specify
                                            Industry</label>
                                        <input type="text" id="industry-other" name="industry_other"
                                            class="input-focus w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                                    </div>
                                </div>

                                <input type="hidden" id="variant-b" name="variant" value="B">

                                <button type="submit"
                                    class="w-full bg-primary-600 text-white px-6 py-3 rounded-lg text-lg font-semibold hover:bg-primary-700 transition transform hover:-translate-y-1 flex justify-center items-center">
                                    <span>Join Waitlist</span>
                                </button>
                            </form>
                        </div>

                        <!-- Variant C: Minimal Form -->
                        <div class="form form-c hidden">
                            <form id="waitlist-form-c" class="space-y-4"
                                action="https://script.google.com/macros/s/AKfycbx2ofEnCzhKSLJVQiN59P2uPAmTAPNuIp4ADmxxeKTvUW1wLlyR-nopRI5lsmNoyFSA/exec"
                                method="POST">
                                <div>
                                    <label for="email-c"
                                        class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                    <input type="email" id="email-c" name="email" required
                                        class="input-focus w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                                </div>

                                <input type="hidden" id="variant-c" name="variant" value="C">

                                <button type="submit"
                                    class="w-full bg-primary-600 text-white px-6 py-3 rounded-lg text-lg font-semibold hover:bg-primary-700 transition transform hover:-translate-y-1 flex justify-center items-center">
                                    <span>Join Waitlist</span>
                                </button>
                            </form>
                        </div>

                        <!-- Success Message -->
                        <div id="form-message" class="hidden">
                            <div class="text-center py-8">
                                <svg class="w-16 h-16 text-green-500 mx-auto mb-4" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                                <h3 class="text-2xl font-semibold text-gray-800 mb-2">Thank You!</h3>
                                <p class="text-gray-600">You've successfully joined our waitlist. We'll keep you
                                    updated!</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section class="py-20 bg-white">
            <div class="container mx-auto px-4">
                <div class="max-w-2xl mx-auto text-center">
                    <h2 class="text-3xl font-bold mb-4">Get in Touch</h2>
                    <p class="text-gray-600 mb-8">Have questions? We're here to help!</p>
                    <div class="space-y-4">
                        <div>
                            <a href="mailto:founder@psrstech.com"
                                class="text-primary-600 hover:text-primary-700 flex items-center justify-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                </svg>
                                founder@psrstech.com
                            </a>
                        </div>
                        <div>
                            <a href="tel:+919910403502"
                                class="text-primary-600 hover:text-primary-700 flex items-center justify-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                                </svg>
                                +91 9910403502
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="max-w-6xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-2xl font-bold mb-4">AVIA</h3>
                        <p class="text-gray-400 mb-6">Advanced tools for media management and analysis.</p>
                    </div>
                    <div class="grid grid-cols-2 gap-8">
                        <div>
                            <h4 class="text-lg font-semibold mb-4">Quick Links</h4>
                            <ul class="space-y-2">
                                <li><a href="#" class="text-gray-400 hover:text-white transition">Home</a></li>
                                <li><a href="#features" class="text-gray-400 hover:text-white transition">Features</a>
                                </li>
                                <li><a href="#waitlist" class="text-gray-400 hover:text-white transition">Join
                                        Waitlist</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="border-t border-gray-800 mt-12 pt-8 text-center text-gray-400">
                    <p>&copy; <span id="current-year"></span> AVIA. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>
    <!-- <script>
        let variant;

        // Utility functions
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Message templates
        const messages = {
            success: `
        <div class="text-center py-8" role="alert" aria-live="polite">
            <svg class="w-16 h-16 text-green-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <h3 class="text-2xl font-semibold text-gray-800 mb-2">Thank You!</h3>
            <p class="text-gray-600">You've successfully joined our waitlist. We'll keep you updated!</p>
        </div>
    `,
            duplicate: `
        <div class="text-center py-8" role="alert" aria-live="polite">
            <svg class="w-16 h-16 text-blue-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <h3 class="text-2xl font-semibold text-gray-800 mb-2">Already Registered!</h3>
            <p class="text-gray-600">You're already on our waitlist. We'll notify you when AVIA launches!</p>
            <button onclick="location.reload()" class="mt-6 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                Try Different Email
            </button>
        </div>
    `,
            error: `
        <div class="text-center py-8" role="alert" aria-live="assertive">
            <svg class="w-16 h-16 text-red-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <h3 class="text-2xl font-semibold text-gray-800 mb-2">Oops!</h3>
            <p class="text-gray-600">Something went wrong. Please try again later.</p>
            <button onclick="location.reload()" class="mt-6 px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2">
                Try Again
            </button>
        </div>
    `
        };

        // Enhanced tracking helper
        function trackEvent(eventName, params = {}) {
            if (typeof gtag === 'function') {
                gtag('event', eventName, {
                    ...params,
                    timestamp: new Date().toISOString(),
                    page_url: window.location.href
                });
            }
        }

        // Cookie functions
        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
            return null;
        }

        function setCookie(name, value, days) {
            const d = new Date();
            d.setTime(d.getTime() + (days * 24 * 60 * 60 * 1000));
            const expires = "expires=" + d.toUTCString();
            document.cookie = `${name}=${value};${expires};path=/`;
        }
        // A/B Testing functions
        function assignVariant() {
            const variants = ['a', 'b', 'c'];
            return variants[Math.floor(Math.random() * variants.length)];
        }

        function showVariant(variant) {
            document.querySelectorAll('.form-a, .form-b, .form-c').forEach(el => {
                el.classList.add('hidden');
            });

            const selectedForm = document.querySelector(`.form-${variant}`);
            if (selectedForm) {
                selectedForm.classList.remove('hidden');
            }

            trackEvent('variant_assigned', {
                variant: variant.toUpperCase()
            });
        }

        // Form submission handler
        // function handleFormSubmission(form) {
        //     const formData = new FormData(form);
        //     const submitButton = form.querySelector('button[type="submit"]');
        //     const buttonText = submitButton.querySelector('span');
        //     const originalText = buttonText.textContent;
        //     const formVariant = formData.get('variant');

        //     // Add loading state
        //     submitButton.disabled = true;
        //     buttonText.textContent = 'Submitting...';
        //     submitButton.classList.add('loading');

        //     // Convert FormData to URL-encoded data
        //     const data = new URLSearchParams(formData);

        //     fetch(form.action, {
        //         method: 'POST',
        //         mode: 'cors', // ensures CORS is handled
        //         headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        //         body: data
        //     })
        //         .then(response => response.json())
        //         .then(json => {
        //             // Reset button
        //             submitButton.disabled = false;
        //             buttonText.textContent = originalText;
        //             submitButton.classList.remove('loading');

        //             // Hide the form and show a message
        //             form.style.display = 'none';
        //             const messageDiv = document.getElementById('form-message');
        //             messageDiv.classList.remove('hidden');

        //             if (json.isDuplicate) {
        //                 // Duplicate email message
        //                 messageDiv.innerHTML = `
        //         <div class="text-center py-8">
        //             <svg class="w-16 h-16 text-blue-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        //                 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        //                     d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        //             </svg>
        //             <h3 class="text-2xl font-semibold text-gray-800 mb-2">Already Registered!</h3>
        //             <p class="text-gray-600">You're already on our waitlist. We'll notify you when AVIA launches!</p>
        //             <button onclick="location.reload()" class="mt-6 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
        //                 Try Different Email
        //             </button>
        //         </div>
        //     `;
        //             } else if (json.success) {
        //                 // Success message
        //                 messageDiv.innerHTML = `
        //         <div class="text-center py-8">
        //             <svg class="w-16 h-16 text-green-500 mx-auto mb-4" fill="none" stroke="currentColor"
        //                 viewBox="0 0 24 24" aria-hidden="true">
        //                 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        //                     d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        //             </svg>
        //             <h3 class="text-2xl font-semibold text-gray-800 mb-2">Thank You!</h3>
        //             <p class="text-gray-600">You've successfully joined our waitlist. We'll keep you updated!</p>
        //         </div>
        //     `;
        //             } else {
        //                 // General error message
        //                 messageDiv.innerHTML = `
        //         <div class="text-center py-8">
        //             <svg class="w-16 h-16 text-red-500 mx-auto mb-4" fill="none" stroke="currentColor"
        //                 viewBox="0 0 24 24" aria-hidden="true">
        //                 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        //                     d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        //             </svg>
        //             <h3 class="text-2xl font-semibold text-gray-800 mb-2">Oops!</h3>
        //             <p class="text-gray-600">Something went wrong. Please try again later.</p>
        //             <button onclick="location.reload()" class="mt-6 px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2">
        //                 Try Again
        //             </button>
        //         </div>
        //     `;
        //             }
        //         })
        //         .catch(error => {
        //             console.error('Form submission error:', error);

        //             // Reset button
        //             submitButton.disabled = false;
        //             buttonText.textContent = originalText;
        //             submitButton.classList.remove('loading');

        //             const messageDiv = document.getElementById('form-message');
        //             messageDiv.classList.remove('hidden');
        //             messageDiv.innerHTML = `
        //     <div class="text-center py-8">
        //         <svg class="w-16 h-16 text-red-500 mx-auto mb-4" fill="none" stroke="currentColor"
        //             viewBox="0 0 24 24" aria-hidden="true">
        //             <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        //                 d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        //         </svg>
        //         <h3 class="text-2xl font-semibold text-gray-800 mb-2">Oops!</h3>
        //         <p class="text-gray-600">Network error. Please try again later.</p>
        //         <button onclick="location.reload()" class="mt-6 px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition">
        //             Try Again
        //         </button>
        //     </div>
        // `;
        //         });
        // }


        // function handleFormSubmission(form) {
        //     const formData = new FormData(form);
        //     const submitButton = form.querySelector('button[type="submit"]');
        //     const buttonText = submitButton.querySelector('span');
        //     const originalText = buttonText.textContent;

        //     // Add loading state
        //     submitButton.disabled = true;
        //     buttonText.textContent = 'Submitting...';
        //     submitButton.classList.add('loading');

        //     // Add browser information
        //     formData.append('source_ip', '');
        //     formData.append('user_agent', navigator.userAgent);

        //     // Convert FormData to URL-encoded string
        //     const data = new URLSearchParams(formData);

        //     fetch(form.action, {
        //         method: 'POST',
        //         headers: {
        //             'Content-Type': 'application/x-www-form-urlencoded'
        //         },
        //         body: data
        //     })
        //         .then(response => {
        //             if (!response.ok) {
        //                 throw new Error('Network response was not ok');
        //             }
        //             return response.json();
        //         })
        //         .then(json => {
        //             submitButton.disabled = false;
        //             buttonText.textContent = originalText;
        //             submitButton.classList.remove('loading');

        //             // Hide the form and show message
        //             form.style.display = 'none';
        //             const messageDiv = document.getElementById('form-message');
        //             messageDiv.classList.remove('hidden');

        //             if (json.isDuplicate) {
        //                 // Show duplicate email message
        //                 messageDiv.innerHTML = messages.duplicate;
        //                 trackEvent('form_submission_duplicate', {
        //                     variant: formData.get('variant')
        //                 });
        //             } else if (json.success) {
        //                 // Show success message
        //                 messageDiv.innerHTML = messages.success;
        //                 trackEvent('form_submission_success', {
        //                     variant: formData.get('variant')
        //                 });
        //             } else {
        //                 // Show error message
        //                 messageDiv.innerHTML = messages.error;
        //                 trackEvent('form_submission_error', {
        //                     variant: formData.get('variant'),
        //                     error: json.message
        //                 });
        //             }
        //         })
        //         .catch(error => {
        //             console.error('Form submission error:', error);

        //             submitButton.disabled = false;
        //             buttonText.textContent = originalText;
        //             submitButton.classList.remove('loading');

        //             const messageDiv = document.getElementById('form-message');
        //             messageDiv.classList.remove('hidden');
        //             messageDiv.innerHTML = messages.error;

        //             trackEvent('form_submission_error', {
        //                 variant: formData.get('variant'),
        //                 error: error.message
        //             });
        //         });

        //     // Track submission attempt
        //     trackEvent('form_submission_attempt', {
        //         variant: formData.get('variant')
        //     });
        // }

        function handleFormSubmission(form) {
            const formData = new FormData(form);
            const submitButton = form.querySelector('button[type="submit"]');
            const buttonText = submitButton.querySelector('span');
            const originalText = buttonText.textContent;

            // Add loading state
            submitButton.disabled = true;
            buttonText.textContent = 'Submitting...';
            submitButton.classList.add('loading');

            // Add browser information
            formData.append('source_ip', '');
            formData.append('user_agent', navigator.userAgent);

            // Convert FormData to URL-encoded string
            const data = new URLSearchParams(formData);

            fetch(form.action, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded'
                },
                body: data
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(json => {
                    // Reset button state
                    submitButton.disabled = false;
                    buttonText.textContent = originalText;
                    submitButton.classList.remove('loading');

                    // Hide the form and show message
                    form.style.display = 'none';
                    const messageDiv = document.getElementById('form-message');
                    messageDiv.classList.remove('hidden');

                    if (json.isDuplicate) {
                        // Duplicate email message
                        messageDiv.innerHTML = `
                <div class="text-center py-8">
                    <svg class="w-16 h-16 text-blue-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    <h3 class="text-2xl font-semibold text-gray-800 mb-2">Already Registered!</h3>
                    <p class="text-gray-600">You're already on our waitlist. We'll notify you when AVIA launches!</p>
                    <button onclick="location.reload()" class="mt-6 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                        Try Different Email
                    </button>
                </div>
            `;
                        trackEvent('form_submission_duplicate', {
                            variant: formData.get('variant')
                        });
                    } else if (json.success) {
                        // Success message
                        messageDiv.innerHTML = `
                <div class="text-center py-8">
                    <svg class="w-16 h-16 text-green-500 mx-auto mb-4" fill="none" stroke="currentColor"
                        viewBox="0 0 24 24" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h3 class="text-2xl font-semibold text-gray-800 mb-2">Thank You!</h3>
                    <p class="text-gray-600">You've successfully joined our waitlist. We'll keep you updated!</p>
                </div>
            `;
                        trackEvent('form_submission_success', {
                            variant: formData.get('variant')
                        });
                    } else {
                        // General error message
                        messageDiv.innerHTML = `
                <div class="text-center py-8">
                    <svg class="w-16 h-16 text-red-500 mx-auto mb-4" fill="none" stroke="currentColor"
                        viewBox="0 0 24 24" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                    <h3 class="text-2xl font-semibold text-gray-800 mb-2">Oops!</h3>
                    <p class="text-gray-600">Something went wrong. Please try again later.</p>
                    <button onclick="location.reload()" class="mt-6 px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2">
                        Try Again
                    </button>
                </div>
            `;
                        trackEvent('form_submission_error', {
                            variant: formData.get('variant'),
                            error: json.message
                        });
                    }
                })
                .catch(error => {
                    console.error('Form submission error:', error);

                    // Reset button state
                    submitButton.disabled = false;
                    buttonText.textContent = originalText;
                    submitButton.classList.remove('loading');

                    // Show network error message
                    const messageDiv = document.getElementById('form-message');
                    messageDiv.classList.remove('hidden');
                    messageDiv.innerHTML = `
            <div class="text-center py-8">
                <svg class="w-16 h-16 text-red-500 mx-auto mb-4" fill="none" stroke="currentColor"
                    viewBox="0 0 24 24" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                <h3 class="text-2xl font-semibold text-gray-800 mb-2">Oops!</h3>
                <p class="text-gray-600">Network error. Please try again later.</p>
                <button onclick="location.reload()" class="mt-6 px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2">
                    Try Again
                </button>
            </div>
        `;
                    trackEvent('form_submission_error', {
                        variant: formData.get('variant'),
                        error: 'Network error: ' + error.message
                    });
                });

            // Track submission attempt
            trackEvent('form_submission_attempt', {
                variant: formData.get('variant')
            });
        }

        // Initialize everything when the DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            // Set current year
            document.getElementById('current-year').textContent = new Date().getFullYear();

            // Initialize variant
            let variant = getCookie('avia_variant');
            if (!variant) {
                variant = assignVariant();
                setCookie('avia_variant', variant, 30);
            }

            showVariant(variant);

            // Set variant in hidden fields
            document.querySelectorAll('[name="variant"]').forEach(input => {
                input.value = variant.toUpperCase();
            });

            // Form submission handling
            document.querySelectorAll('form').forEach(form => {
                form.addEventListener('submit', function (e) {
                    e.preventDefault();
                    handleFormSubmission(this);
                });
            });

            // Track scroll depth
            let maxScroll = 0;
            let scrollThresholds = [25, 50, 75, 100];

            window.addEventListener('scroll', debounce(() => {
                const scrollPercent = Math.round((window.scrollY + window.innerHeight) / document.documentElement.scrollHeight * 100);

                if (scrollPercent > maxScroll) {
                    maxScroll = scrollPercent;

                    scrollThresholds.forEach((threshold, index) => {
                        if (scrollPercent >= threshold) {
                            trackEvent('scroll_depth', {
                                scroll_percent: threshold,
                                page_path: window.location.pathname
                            });
                            scrollThresholds.splice(index, 1);
                        }
                    });
                }
            }, 250));

            // Track CTA clicks
            document.querySelectorAll('.cta').forEach(cta => {
                cta.addEventListener('click', function (e) {
                    trackEvent('cta_click', {
                        cta_text: this.textContent.trim(),
                        cta_location: this.getAttribute('href'),
                        variant: variant.toUpperCase()
                    });
                });
            });

            // Initialize industry selector
            const industrySelect = document.getElementById('industry');
            const otherIndustryContainer = document.getElementById('other-industry-container');

            if (industrySelect && otherIndustryContainer) {
                industrySelect.addEventListener('change', function () {
                    if (this.value === 'other') {
                        otherIndustryContainer.classList.remove('hidden');
                        document.getElementById('industry-other').required = true;
                    } else {
                        otherIndustryContainer.classList.add('hidden');
                        document.getElementById('industry-other').required = false;
                    }
                });
            }

            // Track form field interactions
            document.querySelectorAll('input, select').forEach(field => {
                field.addEventListener('focus', function () {
                    if (!this.dataset.tracked) {
                        trackEvent('form_field_focus', {
                            field_type: this.type,
                            field_name: this.name,
                            form_id: this.closest('form').id,
                            variant: variant.toUpperCase()
                        });
                        this.dataset.tracked = 'true';
                    }
                });
            });

            // Initialize smooth scroll
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        }); -->

    <script>
        //--------- Cookie Management ---------//
        function setCookie(name, value, days) {
            const d = new Date();
            d.setTime(d.getTime() + (days * 24 * 60 * 60 * 1000));
            const expires = `expires=${d.toUTCString()}`;
            document.cookie = `${name}=${value};${expires};path=/;SameSite=Lax`;
        }

        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
            return null;
        }

        //--------- Utility Functions ---------//
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        //--------- Message Templates ---------//
        const messages = {
            success: `
                    <div class="text-center py-8" role="alert" aria-live="polite">
                        <svg class="w-16 h-16 text-green-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        <h3 class="text-2xl font-semibold text-gray-800 mb-2">Thank You!</h3>
                        <p class="text-gray-600">You've successfully joined our waitlist. We'll keep you updated!</p>
                    </div>
                `,
            duplicate: `
                    <div class="text-center py-8" role="alert" aria-live="polite">
                        <svg class="w-16 h-16 text-blue-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        <h3 class="text-2xl font-semibold text-gray-800 mb-2">Already Registered!</h3>
                        <p class="text-gray-600">You're already on our waitlist. We'll notify you when AVIA launches!</p>
                        <button onclick="location.reload()" class="mt-6 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                            Try Different Email
                        </button>
                    </div>
                `,
            error: `
                    <div class="text-center py-8" role="alert" aria-live="assertive">
                        <svg class="w-16 h-16 text-red-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        <h3 class="text-2xl font-semibold text-gray-800 mb-2">Oops!</h3>
                        <p class="text-gray-600">Something went wrong. Please try again later.</p>
                        <button onclick="location.reload()" class="mt-6 px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2">
                            Try Again
                        </button>
                    </div>
                `
        };

        //--------- Enhanced Event Tracking ---------//
        function trackEvent(eventName, params = {}) {
            if (typeof gtag === 'function') {
                const enhancedParams = {
                    ...params,
                    timestamp: new Date().toISOString(),
                    page_url: window.location.href,
                    page_title: document.title,
                    client_id: getCookie('_ga'),
                    session_id: getCookie('_ga_' + 'XT9R8KQFRF'.replace(/-/g, '')),
                    send_to: 'G-XT9R8KQFRF'
                };

                gtag('event', eventName, enhancedParams);

                // Debug logging
                console.log('GA Event Fired:', {
                    eventName,
                    ...enhancedParams,
                    variant: getCookie('avia_variant')
                });
            }
        }

        //--------- A/B Testing Functions ---------//
        function assignVariant() {
            const storedVariant = getCookie('avia_variant');
            if (storedVariant && ['a', 'b', 'c'].includes(storedVariant.toLowerCase())) {
                console.log('Using stored variant:', storedVariant);
                return storedVariant.toLowerCase();
            }

            // Weighted distribution: 40% A, 40% B, 20% C
            const rand = Math.random();
            let newVariant;
            if (rand < 0.4) newVariant = 'a';
            else if (rand < 0.8) newVariant = 'b';
            else newVariant = 'c';

            setCookie('avia_variant', newVariant, 30);

            // Track variant assignment
            trackEvent('variant_assigned', {
                event_category: 'A/B Testing',
                event_label: newVariant.toUpperCase(),
                variant: newVariant.toUpperCase(),
                non_interaction: true
            });

            console.log('Assigned new variant:', newVariant);
            return newVariant;
        }

        function showVariant(variant) {
            document.querySelectorAll('.form-a, .form-b, .form-c').forEach(el => {
                el.classList.add('hidden');
            });

            const selectedForm = document.querySelector(`.form-${variant}`);
            if (selectedForm) {
                selectedForm.classList.remove('hidden');
            }
        }

        //--------- Form Submission Handler ---------//
        function handleFormSubmission(form) {
            const formData = new FormData(form);
            const submitButton = form.querySelector('button[type="submit"]');
            const buttonText = submitButton.querySelector('span');
            const originalText = buttonText.textContent;

            // Add loading state
            submitButton.disabled = true;
            buttonText.textContent = 'Submitting...';
            submitButton.classList.add('loading');

            // Add browser information
            formData.append('source_ip', '');
            formData.append('user_agent', navigator.userAgent);

            // Track submission attempt
            trackEvent('form_submission_attempt', {
                event_category: 'Form',
                event_label: formData.get('variant'),
                variant: formData.get('variant')
            });

            // Convert FormData to URL-encoded string
            const data = new URLSearchParams(formData);

            fetch(form.action, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded'
                },
                body: data
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(json => {
                    // Reset button state
                    submitButton.disabled = false;
                    buttonText.textContent = originalText;
                    submitButton.classList.remove('loading');

                    // Hide the form and show message
                    form.style.display = 'none';
                    const messageDiv = document.getElementById('form-message');
                    messageDiv.classList.remove('hidden');

                    if (json.isDuplicate) {
                        messageDiv.innerHTML = messages.duplicate;
                        trackEvent('form_submission_duplicate', {
                            event_category: 'Form',
                            event_label: formData.get('variant'),
                            variant: formData.get('variant')
                        });
                    } else if (json.success) {
                        messageDiv.innerHTML = messages.success;
                        trackEvent('form_submission_success', {
                            event_category: 'Form',
                            event_label: formData.get('variant'),
                            variant: formData.get('variant')
                        });
                    } else {
                        messageDiv.innerHTML = messages.error;
                        trackEvent('form_submission_error', {
                            event_category: 'Form',
                            event_label: formData.get('variant'),
                            variant: formData.get('variant'),
                            error: json.message
                        });
                    }
                })
                .catch(error => {
                    console.error('Form submission error:', error);

                    // Reset button state
                    submitButton.disabled = false;
                    buttonText.textContent = originalText;
                    submitButton.classList.remove('loading');

                    // Show network error message
                    const messageDiv = document.getElementById('form-message');
                    messageDiv.classList.remove('hidden');
                    messageDiv.innerHTML = messages.error;

                    trackEvent('form_submission_error', {
                        event_category: 'Form',
                        event_label: formData.get('variant'),
                        variant: formData.get('variant'),
                        error: 'Network error: ' + error.message
                    });
                });
        }

        //--------- Initialize Everything ---------//
        document.addEventListener('DOMContentLoaded', () => {
            // Set current year
            document.getElementById('current-year').textContent = new Date().getFullYear();

            // Initialize variant with debug logging
            console.log('Checking for existing variant cookie...');
            let variant = getCookie('avia_variant');
            console.log('Found variant:', variant);

            if (!variant) {
                console.log('No variant found, assigning new variant...');
                variant = assignVariant();
                console.log('New variant assigned:', variant);
            }

            showVariant(variant);

            // Set variant in hidden fields
            document.querySelectorAll('[name="variant"]').forEach(input => {
                input.value = variant.toUpperCase();
                console.log('Set variant field value:', input.value);
            });

            // Form submission handling
            document.querySelectorAll('form').forEach(form => {
                form.addEventListener('submit', function (e) {
                    e.preventDefault();
                    handleFormSubmission(this);
                });
            });

            // Track scroll depth
            let maxScroll = 0;
            let scrollThresholds = [25, 50, 75, 100];

            window.addEventListener('scroll', debounce(() => {
                const scrollPercent = Math.round((window.scrollY + window.innerHeight) / document.documentElement.scrollHeight * 100);

                if (scrollPercent > maxScroll) {
                    maxScroll = scrollPercent;

                    scrollThresholds.forEach((threshold, index) => {
                        if (scrollPercent >= threshold) {
                            trackEvent('scroll_depth', {
                                event_category: 'Engagement',
                                event_label: `${threshold}%`,
                                scroll_percent: threshold,
                                page_path: window.location.pathname
                            });
                            scrollThresholds.splice(index, 1);
                        }
                    });
                }
            }, 250));

            // Track CTA clicks
            document.querySelectorAll('.cta').forEach(cta => {
                cta.addEventListener('click', function (e) {
                    trackEvent('cta_click', {
                        event_category: 'Engagement',
                        event_label: this.textContent.trim(),
                        cta_text: this.textContent.trim(),
                        cta_location: this.getAttribute('href'),
                        variant: variant.toUpperCase()
                    });
                });
            });

            // Initialize industry selector
            const industrySelect = document.getElementById('industry');
            const otherIndustryContainer = document.getElementById('other-industry-container');

            if (industrySelect && otherIndustryContainer) {
                industrySelect.addEventListener('change', function () {
                    if (this.value === 'other') {
                        otherIndustryContainer.classList.remove('hidden');
                        document.getElementById('industry-other').required = true;
                    } else {
                        otherIndustryContainer.classList.add('hidden');
                        document.getElementById('industry-other').required = false;
                    }

                    trackEvent('industry_selected', {
                        event_category: 'Form',
                        event_label: this.value,
                        industry: this.value,
                        variant: variant.toUpperCase()
                    });
                });
            }

            // Track form field interactions
            document.querySelectorAll('input, select').forEach(field => {
                field.addEventListener('focus', function () {
                    if (!this.dataset.tracked) {
                        trackEvent('form_field_focus', {
                            event_category: 'Form',
                            event_label: this.name,
                            field_type: this.type,
                            field_name: this.name,
                            form_id: this.closest('form').id,
                            variant: variant.toUpperCase()
                        });
                        this.dataset.tracked = 'true';
                    }
                });
            });

            // Initialize smooth scroll
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });

                        trackEvent('smooth_scroll', {
                            event_category: 'Navigation',
                            event_label: this.getAttribute('href'),
                            target_id: this.getAttribute('href').slice(1)
                        });
                    }
                });
            });

            // Track initial page load
            trackEvent('page_load', {
                event_category: 'Page',
                event_label: document.title,
                variant: variant.toUpperCase()
            });
        });
    </script>

</body>

</html>