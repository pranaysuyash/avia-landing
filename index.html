<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Global Site Tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-1234567890"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-1234567890', { 'debug_mode': true });
  </script>

  <!-- Microsoft Clarity -->
  <script type="text/javascript">
    (function (c, l, a, r, i, t, y) {
      c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments); };
      t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i;
      y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y);
    })(window, document, "clarity", "script", "okhbodwey7");
  </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#1e40af">
  <title>AVIA - Audio Video Image Analyzer Waitlist</title>

  <!-- SEO & Social Meta Tags -->
  <meta name="description" content="AVIA offers powerful tools for uploading, organizing, and analyzing your audio, video, and image content effortlessly. Join our waitlist for early access!">
  <meta property="og:title" content="AVIA - Audio Video Image Analyzer">
  <meta property="og:description" content="Powerful tools for uploading, organizing, and analyzing your media files.">
  <meta property="og:url" content="https://www.exploreavia.com">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="AVIA - Audio Video Image Analyzer">
  <meta name="twitter:description" content="Powerful tools for uploading, organizing, and analyzing your media files.">

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Custom CSS (Design & Messaging Updates Only) -->
  <style>
    /* Glassmorphism effect */
    .glass {
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 10px;
    }
    /* Gradient background for hero section */
    .gradient-bg {
      background: linear-gradient(-45deg, #0ea5e9, #0369a1, #075985, #0c4a6e);
      background-size: 400% 400%;
      animation: gradient 15s ease infinite;
      color: #fff;
    }
    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    /* Feature card hover effect */
    .feature-card {
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1),
                  0 8px 10px -6px rgba(0,0,0,0.1);
    }
    /* Loading spinner for form button */
    .loading::after {
      content: '';
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 2px solid #fff;
      border-radius: 50%;
      border-top-color: transparent;
      animation: spin 0.8s linear infinite;
      margin-left: 8px;
      vertical-align: middle;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    /* Extra spacing for hero section */
    .hero-section {
      padding: 6rem 0;
    }
    /* Accessibility: Skip link styling */
    .skip-link {
      position: absolute;
      left: -999px;
      top: auto;
      width: 1px;
      height: 1px;
      overflow: hidden;
    }
    .skip-link:focus {
      position: static;
      width: auto;
      height: auto;
      overflow: visible;
      padding: 1rem;
      background: #fff;
      z-index: 1000;
    }
  </style>
</head>
<body class="bg-light text-dark">
  <!-- Skip to main content link for accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Header / Navbar -->
  <header class="fixed-top bg-white shadow-sm">
    <nav class="navbar navbar-expand-lg navbar-light">
      <div class="container">
        <!-- Updated brand with tagline -->
        <a href="#" class="navbar-brand fw-bold fs-3 text-primary">
          AVIA 
          <span class="d-block fs-6 text-secondary">AI-Driven Media Insights</span>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div id="navbarContent" class="collapse navbar-collapse">
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-lg-center">
            <li class="nav-item">
              <a href="#features" class="nav-link"
                 onclick="gtag('event', 'click', { event_category: 'Navigation', event_label: 'Features' });">
                Features
              </a>
            </li>
            <li class="nav-item">
              <a href="#waitlist" class="btn btn-primary ms-lg-3"
                 onclick="gtag('event', 'click', { event_category: 'CTA', event_label: 'Join Waitlist', value: 1 });">
                Join Waitlist
              </a>
            </li>
            <!-- Additional AI/ML Glossary Link -->
            <li class="nav-item">
              <a href="https://aiml-glossary-pranaysuyash.replit.app/" target="_blank" class="btn btn-outline-secondary ms-lg-3"
                 onclick="gtag('event', 'click', { event_category: 'Navigation', event_label: 'AI/ML Glossary' });">
                AI/ML Glossary
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <!-- Main Content -->
  <main id="main-content" class="pt-5 mt-5">
    <!-- Hero Section with Updated Messaging -->
    <section class="hero-section gradient-bg text-center">
      <div class="container glass p-5">
        <h1 class="display-4 fw-bold mb-4">Unlock the Hidden Potential of Your Media</h1>
        <p class="lead mb-4">
          Leverage advanced AI and machine learning to transform your audio, video, and images into actionable insights that drive smarter decisions—get early access now!
        </p>
        <a href="#waitlist" class="btn btn-light btn-lg"
           onclick="gtag('event', 'click', { event_category: 'CTA', event_label: 'Get Early Access', value: 1 });">
          Get Early Access
        </a>
      </div>
    </section>

    <!-- Features Section with Updated Messaging -->
    <section id="features" class="py-5 bg-white">
      <div class="container">
        <h2 class="text-center fw-bold mb-5">Powerful Features</h2>
        <div class="row g-4">
          <!-- Feature Card 1 -->
          <div class="col-md-4">
            <div class="card feature-card h-100 border-0 shadow-sm glass"
                 onclick="gtag('event', 'click', { event_category: 'Feature Card', event_label: 'Media Organization' });">
              <div class="card-body text-center">
                <div class="mb-3">
                  <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex p-3">
                    <i class="fas fa-folder-open fa-2x text-primary"></i>
                  </div>
                </div>
                <h5 class="card-title fw-bold">Media Organization</h5>
                <p class="card-text">
                  Streamline your media management with intelligent categorization and search—find exactly what you need in seconds.
                </p>
              </div>
            </div>
          </div>
          <!-- Feature Card 2 -->
          <div class="col-md-4">
            <div class="card feature-card h-100 border-0 shadow-sm glass"
                 onclick="gtag('event', 'click', { event_category: 'Feature Card', event_label: 'Advanced Analytics' });">
              <div class="card-body text-center">
                <div class="mb-3">
                  <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex p-3">
                    <i class="fas fa-chart-line fa-2x text-primary"></i>
                  </div>
                </div>
                <h5 class="card-title fw-bold">Advanced Analytics</h5>
                <p class="card-text">
                  Dive deep into your media with powerful analytics that reveal trends, patterns, and opportunities to drive growth.
                </p>
              </div>
            </div>
          </div>
          <!-- Feature Card 3 -->
          <div class="col-md-4">
            <div class="card feature-card h-100 border-0 shadow-sm glass"
                 onclick="gtag('event', 'click', { event_category: 'Feature Card', event_label: 'Custom Workflow' });">
              <div class="card-body text-center">
                <div class="mb-3">
                  <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex p-3">
                    <i class="fas fa-cogs fa-2x text-primary"></i>
                  </div>
                </div>
                <h5 class="card-title fw-bold">Custom Workflow</h5>
                <p class="card-text">
                  Customize every step of your media processing with flexible automation and settings designed to fit your unique workflow.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Waitlist Section with Updated Messaging -->
    <section id="waitlist" class="py-5 bg-light">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-6">
            <div class="bg-white rounded-3 shadow p-4 p-md-5 glass">
              <h2 class="text-center fw-bold mb-3">Reserve Your Early Access</h2>
              <p class="text-center text-muted mb-4">
                Join our exclusive waitlist and be the first to harness next-generation media analytics that will redefine the way you work.
              </p>

              <!-- Variant A Form -->
              <div class="form form-a d-none">
                <form id="waitlist-form-a" action="https://script.google.com/macros/s/AKfycby5NATMfBud0PuQfuadtBaUPobm6GnIiam3_50nj8chZyIrTfI3kaYpbhiTO_vqrLOS/exec" method="POST">
                  <noscript>
                    <div class="alert alert-warning text-center">
                      Please enable JavaScript to join our waitlist, or contact us directly at founder@psrstech.com
                    </div>
                  </noscript>
                  <div class="mb-3">
                    <label for="name-a" class="form-label">Name</label>
                    <input type="text" id="name-a" name="name" required class="form-control"
                           onfocus="gtag('event', 'form_field_focus', { event_category: 'Waitlist Form', event_label: 'Name Field' });">
                  </div>
                  <div class="mb-3">
                    <label for="email-a" class="form-label">Email</label>
                    <input type="email" id="email-a" name="email" required class="form-control"
                           onfocus="gtag('event', 'form_field_focus', { event_category: 'Waitlist Form', event_label: 'Email Field' });">
                  </div>
                  <input type="hidden" id="variant-a" name="variant" value="A">
                  <button type="submit" class="btn btn-primary w-100">
                    <span>Join Waitlist</span>
                  </button>
                </form>
              </div>

              <!-- Variant B Form -->
              <div class="form form-b d-none">
                <form id="waitlist-form-b" action="https://script.google.com/macros/s/AKfycby5NATMfBud0PuQfuadtBaUPobm6GnIiam3_50nj8chZyIrTfI3kaYpbhiTO_vqrLOS/exec" method="POST">
                  <div class="mb-3">
                    <label for="name-b" class="form-label">Name</label>
                    <input type="text" id="name-b" name="name" required class="form-control"
                           onfocus="gtag('event', 'form_field_focus', { event_category: 'Waitlist Form', event_label: 'Name Field' });">
                  </div>
                  <div class="mb-3">
                    <label for="email-b" class="form-label">Email</label>
                    <input type="email" id="email-b" name="email" required class="form-control"
                           onfocus="gtag('event', 'form_field_focus', { event_category: 'Waitlist Form', event_label: 'Email Field' });">
                  </div>
                  <div class="mb-3">
                    <label for="industry" class="form-label">Industry</label>
                    <select id="industry" name="industry" required class="form-select">
                      <option value="" disabled selected>Select Your Industry</option>
                      <option value="education">Education</option>
                      <option value="project_management">Project Management</option>
                      <option value="product_management">Product Management</option>
                      <option value="other">Other</option>
                    </select>
                  </div>
                  <div class="mb-3 d-none" id="other-industry-container">
                    <label for="industry-other" class="form-label">Specify Industry</label>
                    <input type="text" id="industry-other" name="industry_other" class="form-control">
                  </div>
                  <input type="hidden" id="variant-b" name="variant" value="B">
                  <button type="submit" class="btn btn-primary w-100">
                    <span>Join Waitlist</span>
                  </button>
                </form>
              </div>

              <!-- Variant C Form -->
              <div class="form form-c d-none">
                <form id="waitlist-form-c" action="https://script.google.com/macros/s/AKfycby5NATMfBud0PuQfuadtBaUPobm6GnIiam3_50nj8chZyIrTfI3kaYpbhiTO_vqrLOS/exec" method="POST">
                  <div class="mb-3">
                    <label for="email-c" class="form-label">Email</label>
                    <input type="email" id="email-c" name="email" required class="form-control"
                           onfocus="gtag('event', 'form_field_focus', { event_category: 'Waitlist Form', event_label: 'Email Field' });">
                  </div>
                  <input type="hidden" id="variant-c" name="variant" value="C">
                  <button type="submit" class="btn btn-primary w-100">
                    <span>Join Waitlist</span>
                  </button>
                </form>
              </div>

              <!-- Success or Error Message Container -->
              <div id="form-message" class="d-none mt-4">
                <!-- Message content injected dynamically -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section with Updated Messaging -->
    <section class="py-5 bg-white">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-8 text-center">
            <h2 class="fw-bold mb-3">Let’s Connect</h2>
            <p class="text-muted mb-4">
              Have questions or need more details? Reach out and let our team help you unlock the full potential of your media.
            </p>
            <div class="mb-2">
              <a href="mailto:founder@psrstech.com" class="text-decoration-none text-primary"
                 onclick="gtag('event', 'click', { event_category: 'Contact', event_label: 'Email Link' });">
                <i class="fas fa-envelope me-2"></i>founder@psrstech.com
              </a>
            </div>
            <div>
              <a href="tel:+919910403502" class="text-decoration-none text-primary"
                 onclick="gtag('event', 'click', { event_category: 'Contact', event_label: 'Phone Link' });">
                <i class="fas fa-phone me-2"></i>+91 9910403502
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="bg-dark text-white py-4">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <h5 class="fw-bold">AVIA</h5>
          <p class="small">Advanced tools for media management and analysis.</p>
        </div>
        <div class="col-md-6 text-md-end">
          <h6 class="fw-bold">Quick Links</h6>
          <ul class="list-unstyled">
            <li><a href="#" class="text-white text-decoration-none">Home</a></li>
            <li><a href="#features" class="text-white text-decoration-none">Features</a></li>
            <li><a href="#waitlist" class="text-white text-decoration-none">Join Waitlist</a></li>
          </ul>
        </div>
      </div>
      <hr class="border-top border-secondary">
      <div class="text-center small">
        &copy; <span id="current-year"></span> AVIA. All rights reserved.
      </div>
    </div>
  </footer>

  <!-- Bootstrap 5 Bundle JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- JavaScript: A/B Testing, Form Submission, GA Tracking, and Utilities -->
  <script>
    // =========================== COOKIE UTILITIES =========================== //
    function getCookie(name) {
      console.log('All cookies:', document.cookie);
      const value = `; ${document.cookie}`;
      const parts = value.split(`;${name}=`);
      if (parts.length === 2) {
        const cookieValue = parts.pop().split(';').shift();
        console.log(`Found cookie ${name}:`, cookieValue);
        return cookieValue;
      }
      console.log(`Cookie not found: ${name}`);
      return null;
    }

    function setCookie(name, value, days) {
      const d = new Date();
      d.setTime(d.getTime() + (days * 24 * 60 * 60 * 1000));
      const expires = `expires=${d.toUTCString()}`;
      const cookieString = `${name}=${value};${expires};path=/;secure`;
      document.cookie = cookieString;
      console.log('Setting cookie:', cookieString);
    }

    // =========================== GA EVENT TRACKING =========================== //
    function trackEvent(eventName, params = {}) {
      if (typeof gtag === 'function') {
        const enhancedParams = {
          ...params,
          timestamp: new Date().toISOString(),
          page_url: window.location.href
        };
        gtag('event', eventName, enhancedParams);
        console.log('GA Event Fired:', eventName, enhancedParams);
      }
    }

    // =========================== A/B TESTING LOGIC =========================== //
    function assignVariant() {
      const storedVariant = getCookie('avia_variant');
      if (storedVariant && ['a', 'b', 'c'].includes(storedVariant.toLowerCase())) {
        return storedVariant;
      }
      // Weighted distribution: 40% A, 40% B, 20% C
      const rand = Math.random();
      let newVariant;
      if (rand < 0.4) newVariant = 'a';
      else if (rand < 0.8) newVariant = 'b';
      else newVariant = 'c';

      setCookie('avia_variant', newVariant, 30);
      trackEvent('variant_assigned', { variant: newVariant.toUpperCase() });
      return newVariant;
    }

    function showVariant(variant) {
      document.querySelectorAll('.form-a, .form-b, .form-c').forEach(el => {
        el.classList.add('d-none');
      });
      const selectedForm = document.querySelector(`.form-${variant}`);
      if (selectedForm) {
        selectedForm.classList.remove('d-none');
      }
    }

    // =========================== FORM SUBMISSION HANDLER =========================== //
    function handleFormSubmission(form) {
      const formData = new FormData(form);
      const submitButton = form.querySelector('button[type="submit"]');
      const buttonText = submitButton.querySelector('span');
      const originalText = buttonText.textContent;

      // Loading UI
      submitButton.disabled = true;
      buttonText.textContent = 'Submitting...';
      submitButton.classList.add('loading');

      // Extra data
      formData.append('source_ip', '');
      formData.append('user_agent', navigator.userAgent);

      // Track submission attempt
      trackEvent('form_submission_attempt', { variant: formData.get('variant') });

      // Convert form data to URL-encoded format
      const data = new URLSearchParams(formData);

      console.log('[handleFormSubmission] Sending data to: ', form.action);
      console.log('[handleFormSubmission] Form data entries:', Array.from(formData.entries()));

      fetch(form.action, {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: data
      })
      .then(response => {
        console.log('[handleFormSubmission] Response status:', response.status);
        if (!response.ok) throw new Error('Network response was not ok. Status: ' + response.status);
        return response.json();
      })
      .then(json => {
        console.log('[handleFormSubmission] JSON from script:', json);
        submitButton.disabled = false;
        buttonText.textContent = originalText;
        submitButton.classList.remove('loading');
        form.style.display = 'none';
        const messageDiv = document.getElementById('form-message');
        messageDiv.classList.remove('d-none');

        if (json.isDuplicate) {
          messageDiv.innerHTML = `
            <div class="text-center py-4">
              <i class="fas fa-info-circle fa-3x text-primary mb-3"></i>
              <h3 class="h4 fw-bold">Already Registered!</h3>
              <p>You're already on our waitlist. We'll notify you when AVIA launches!</p>
              <button onclick="location.reload()" class="btn btn-primary mt-3">Try Different Email</button>
            </div>
          `;
          trackEvent('form_submission_duplicate', { variant: formData.get('variant') });
        } else if (json.success) {
          messageDiv.innerHTML = `
            <div class="text-center py-4">
              <i class="fas fa-check-circle fa-3x text-success mb-3"></i>
              <h3 class="h4 fw-bold">Thank You!</h3>
              <p>You've successfully joined our waitlist. We'll keep you updated!</p>
            </div>
          `;
          trackEvent('form_submission_success', { variant: formData.get('variant') });
        } else {
          messageDiv.innerHTML = `
            <div class="text-center py-4">
              <i class="fas fa-exclamation-circle fa-3x text-danger mb-3"></i>
              <h3 class="h4 fw-bold">Oops!</h3>
              <p>Something went wrong. Please try again later.</p>
              <button onclick="location.reload()" class="btn btn-danger mt-3">Try Again</button>
            </div>
          `;
          trackEvent('form_submission_error', {
            variant: formData.get('variant'),
            error: json.message
          });
        }
      })
      .catch(error => {
        console.error('[handleFormSubmission] FETCH ERROR:', error);
        submitButton.disabled = false;
        buttonText.textContent = originalText;
        submitButton.classList.remove('loading');
        const messageDiv = document.getElementById('form-message');
        messageDiv.classList.remove('d-none');
        messageDiv.innerHTML = `
          <div class="text-center py-4">
            <i class="fas fa-exclamation-circle fa-3x text-danger mb-3"></i>
            <h3 class="h4 fw-bold">Oops!</h3>
            <p>Network error. Please try again later.</p>
            <button onclick="location.reload()" class="btn btn-danger mt-3">Try Again</button>
          </div>
        `;
        trackEvent('form_submission_error', {
          variant: formData.get('variant'),
          error: 'Network error: ' + error.message
        });
      });
    }

    // =========================== ON DOM READY =========================== //
    document.addEventListener('DOMContentLoaded', () => {
      // Display current year in footer
      document.getElementById('current-year').textContent = new Date().getFullYear();

      // Determine or assign variant for A/B testing
      let variant = getCookie('avia_variant');
      if (!variant) {
        variant = assignVariant();
      }
      variant = variant.toLowerCase();
      showVariant(variant);

      // Ensure hidden input fields have the correct variant value
      document.querySelectorAll('[name="variant"]').forEach(input => {
        input.value = variant.toUpperCase();
      });

      // Attach form submission handlers
      document.querySelectorAll('form').forEach(form => {
        form.addEventListener('submit', function(e) {
          e.preventDefault();
          handleFormSubmission(this);
        });
      });

      // "Other industry" toggler for Variant B only
      const industrySelect = document.getElementById('industry');
      const otherIndustryContainer = document.getElementById('other-industry-container');
      if (industrySelect && otherIndustryContainer) {
        industrySelect.addEventListener('change', function() {
          if (this.value === 'other') {
            otherIndustryContainer.classList.remove('d-none');
            document.getElementById('industry-other').required = true;
          } else {
            otherIndustryContainer.classList.add('d-none');
            document.getElementById('industry-other').required = false;
          }
        });
      }

      // Track CTA clicks on buttons and links
      document.querySelectorAll('.btn, a').forEach(cta => {
        cta.addEventListener('click', function() {
          trackEvent('cta_click', {
            cta_text: this.textContent.trim(),
            variant: variant.toUpperCase()
          });
        });
      });

      // Scroll Depth Tracking (25%, 50%, 75%, 100%)
      document.addEventListener('scroll', function() {
        let scrollPercent = Math.round((window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100);
        if (scrollPercent >= 25 && !window.scrolled25) {
          window.scrolled25 = true;
          gtag('event', 'scroll_depth', { event_category: 'Engagement', event_label: '25%' });
        }
        if (scrollPercent >= 50 && !window.scrolled50) {
          window.scrolled50 = true;
          gtag('event', 'scroll_depth', { event_category: 'Engagement', event_label: '50%' });
        }
        if (scrollPercent >= 75 && !window.scrolled75) {
          window.scrolled75 = true;
          gtag('event', 'scroll_depth', { event_category: 'Engagement', event_label: '75%' });
        }
        if (scrollPercent >= 100 && !window.scrolled100) {
          window.scrolled100 = true;
          gtag('event', 'scroll_depth', { event_category: 'Engagement', event_label: '100%' });
        }
      });
    });
  </script>
</body>
</html>